2020-04-01 16:22:01 myrequests.py[line:40] INFO: 

***************************************************************************接口请求分割线***************************************************************************

2020-04-01 16:22:01 myrequests.py[line:43] INFO: 开始访问接口:【IMG:上传图片】
2020-04-01 16:22:01 myrequests.py[line:50] INFO: 请求的headers信息为
{
  "Content-Type": "multipart/form-data; boundary=d23a6d9fce334eaf8c1fb9911e39588c"
}
2020-04-01 16:22:01 myrequests.py[line:94] INFO: 发送post请求
2020-04-01 16:22:01 myrequests.py[line:97] INFO: 请求参数信息为
<MultipartEncoder: {'file': ('laoshi.jpg', <_io.BufferedReader name='/Users/chenlei/python-project/jjxt-api-test/jjxt/temp/laoshi.jpg'>, 'image/jpeg')}>
2020-04-01 16:22:01 myrequests.py[line:244] INFO: 接口请求地址为
https://api-diligent-mgt.haixue.com/diligent/file/upload/IMG
2020-04-01 16:22:01 myrequests.py[line:249] INFO: 响应状态码为:200，响应时间为:0.593157
2020-04-01 16:22:01 custom_assert.py[line:40] INFO: 
断言值为:
{
  "code": 200
}
响应信息:
{
  "code": 200,
  "data": {
    "fileName": "laoshi.jpg",
    "fileSize": 14851,
    "fileSuffix": "jpg",
    "fileType": "IMG",
    "fileUrl": "https://imgstatic.highso.com.cn/jjxt/img/630ea71948e64e7198d6ade6d70c5286.jpg?attname=laoshi.jpg",
    "height": 300,
    "id": 108001,
    "width": 300
  },
  "msg": null
}
2020-04-01 16:22:01 custom_assert.py[line:131] INFO: 断言json中指定的key【data】的返回数据的类型必须是【<class 'dict'>】，返回数据不能是【{}】
2020-04-01 16:22:01 myrequests.py[line:40] INFO: 

***************************************************************************接口请求分割线***************************************************************************

2020-04-01 16:22:01 myrequests.py[line:43] INFO: 开始访问接口:【sendMsgGroup:发送群消息】
2020-04-01 16:22:01 myrequests.py[line:115] INFO: 发送post_form请求
2020-04-01 16:22:01 myrequests.py[line:119] INFO: 请求参数信息为
{
  "clazzId": 567,
  "customerId": 1585,
  "messageContent": {
    "imgMsg": {
      "imgInfo": [
        {
          "height": 300,
          "id": 108001,
          "size": 14851,
          "type": "normal",
          "url": "https://imgstatic.highso.com.cn/jjxt/img/630ea71948e64e7198d6ade6d70c5286.jpg?attname=laoshi.jpg",
          "width": 300
        }
      ],
      "type": "JPG"
    },
    "msgType": "IMG",
    "randomStr": 1585729321000,
    "sendStatus": "sending",
    "top": "false"
  },
  "messageType": "IMG",
  "randomStr": 1585729321000,
  "top": "false"
}
2020-04-01 16:22:02 myrequests.py[line:244] INFO: 接口请求地址为
https://api-diligent-mgt.haixue.com/diligent/tencent/im/sendMsgGroup?customerId=1585&clazzId=567&messageType=IMG&top=false&randomStr=1585729321000&messageContent=%7B%27randomStr%27%3A+1585729321000%2C+%27sendStatus%27%3A+%27sending%27%2C+%27msgType%27%3A+%27IMG%27%2C+%27top%27%3A+%27false%27%2C+%27imgMsg%27%3A+%7B%27type%27%3A+%27JPG%27%2C+%27imgInfo%27%3A+%5B%7B%27id%27%3A+108001%2C+%27type%27%3A+%27normal%27%2C+%27size%27%3A+14851%2C+%27width%27%3A+300%2C+%27height%27%3A+300%2C+%27url%27%3A+%27https%3A%2F%2Fimgstatic.highso.com.cn%2Fjjxt%2Fimg%2F630ea71948e64e7198d6ade6d70c5286.jpg%3Fattname%3Dlaoshi.jpg%27%7D%5D%7D%7D
2020-04-01 16:22:02 myrequests.py[line:249] INFO: 响应状态码为:200，响应时间为:0.357102
2020-04-01 16:22:02 custom_assert.py[line:40] INFO: 
断言值为:
{
  "code": 200
}
响应信息:
{
  "code": 200,
  "data": "success",
  "msg": null
}
2020-04-01 16:22:10 myrequests.py[line:40] INFO: 

***************************************************************************接口请求分割线***************************************************************************

2020-04-01 16:22:10 myrequests.py[line:43] INFO: 开始访问接口:【historyMsg:查询群聊历史消息】
2020-04-01 16:22:10 myrequests.py[line:132] INFO: 发送get请求
2020-04-01 16:22:10 myrequests.py[line:136] INFO: 请求参数信息为
{
  "endDate": "2020-04-01 16:24:10",
  "groupIdentifier": "CLAZZ-567",
  "pageNum": "1",
  "sendType": "GROUP",
  "startDate": "2020-04-01 16:20:10"
}
2020-04-01 16:22:10 myrequests.py[line:244] INFO: 接口请求地址为
https://api-diligent-mgt.haixue.com/diligent/tencent/im/group/historyMsg?pageNum=1&sendType=GROUP&groupIdentifier=CLAZZ-567&startDate=2020-04-01+16%3A20%3A10&endDate=2020-04-01+16%3A24%3A10
2020-04-01 16:22:10 myrequests.py[line:249] INFO: 响应状态码为:200，响应时间为:0.09065
2020-04-01 16:22:10 custom_assert.py[line:40] INFO: 
断言值为:
{
  "code": 200
}
响应信息:
{
  "code": 200,
  "data": {
    "currentPage": 1,
    "items": [
      {
        "From_Account": "T-1585",
        "GroupId": "CLAZZ-567",
        "MsgBody": [
          {
            "MsgContent": {
              "Data": "{\"fromIdentifier\":\"T-1585\",\"fromIdentifierNickName\":\"陈磊二\",\"character\":\"ASSISTANT\",\"msgType\":\"IMG\",\"top\":false,\"imgMsg\":{\"type\":\"JPG\",\"imgInfo\":[{\"type\":\"normal\",\"size\":14851,\"width\":300,\"height\":300,\"url\":\"https://imgstatic.highso.com.cn/jjxt/img/630ea71948e64e7198d6ade6d70c5286.jpg?attname=laoshi.jpg\",\"id\":108001}]},\"randomStr\":\"1585729321000\"}",
              "Desc": "[图片]",
              "Ext": "",
              "FileName": null,
              "FileSize": null,
              "ImageFormat": null,
              "ImageInfoArray": null,
              "Index": null,
              "Latitude": null,
              "Longitude": null,
              "Second": null,
              "Size": null,
              "Sound": "",
              "Text": null,
              "UUID": null
            },
            "MsgType": "TIMCustomElem"
          }
        ],
        "MsgSeq": "3358",
        "MsgTime": 1585729338,
        "To_Account": null
      },
      {
        "From_Account": "T-1585",
        "GroupId": "CLAZZ-567",
        "MsgBody": [
          {
            "MsgContent": {
              "Data": "{\"fromIdentifier\":\"T-1585\",\"fromIdentifierNickName\":\"陈磊二\",\"character\":\"ASSISTANT\",\"msgType\":\"FILE\",\"top\":false,\"fileMsg\":{\"fileName\":\"file.xlsx\",\"url\":\"https://imgstatic.highso.com.cn/jjxt/file/04a4b276d86d4041919dc13b6267cab7.xlsx?attname=file.xlsx\",\"size\":12655,\"id\":108000,\"viewUrl\":\"\",\"pdf\":false},\"randomStr\":\"1585729312000\"}",
              "Desc": "[文件]file.xlsx",
              "Ext": "",
              "FileName": null,
              "FileSize": null,
              "ImageFormat": null,
              "ImageInfoArray": null,
              "Index": null,
              "Latitude": null,
              "Longitude": null,
              "Second": null,
              "Size": null,
              "Sound": "",
              "Text": null,
              "UUID": null
            },
            "MsgType": "TIMCustomElem"
          }
        ],
        "MsgSeq": "3357",
        "MsgTime": 1585729329,
        "To_Account": null
      }
    ],
    "pageSize": 20,
    "totalNum": 2,
    "totalPage": 1
  },
  "msg": null
}
2020-04-01 16:22:10 custom_assert.py[line:131] INFO: 断言json中指定的key【items】的返回数据的类型必须是【<class 'list'>】，返回数据不能是【[]】
2020-04-01 16:22:10 custom_assert.py[line:81] INFO: 
断言值为:
{
  "imgInfo": [
    {
      "height": 300,
      "id": 108001,
      "size": 14851,
      "type": "normal",
      "url": "https://imgstatic.highso.com.cn/jjxt/img/630ea71948e64e7198d6ade6d70c5286.jpg?attname=laoshi.jpg",
      "width": 300
    }
  ],
  "type": "JPG"
}
响应信息:
{
  "character": "ASSISTANT",
  "fromIdentifier": "T-1585",
  "fromIdentifierNickName": "陈磊二",
  "imgMsg": {
    "imgInfo": [
      {
        "height": 300,
        "id": 108001,
        "size": 14851,
        "type": "normal",
        "url": "https://imgstatic.highso.com.cn/jjxt/img/630ea71948e64e7198d6ade6d70c5286.jpg?attname=laoshi.jpg",
        "width": 300
      }
    ],
    "type": "JPG"
  },
  "msgType": "IMG",
  "randomStr": "1585729321000",
  "top": false
}